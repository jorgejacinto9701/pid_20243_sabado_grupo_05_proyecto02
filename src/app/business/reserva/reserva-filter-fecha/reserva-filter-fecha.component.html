<div class="container mt-5 mb-5">
  <div class="container mt-5">
    <!-- Título -->
    <h2 class="text-center fw-bold" style="color: white;">Reservas por Fecha</h2>
    <br>

    <form [formGroup]="filterForm" class="form-inline d-flex justify-content-center">
      <div class="form-group mb-2 d-flex align-items-center">
        <label for="startDate" class="mr-2" style="color: white;">Fecha Inicio:</label>
        <input type="date" formControlName="startDate" id="startDate" class="form-control" style="width: 180px;">
      </div>

      <div class="form-group mx-sm-5 mb-2 d-flex align-items-center">
        <label for="endDate" class="mr-2" style="color: white;">Fecha Fin:</label>
        <input type="date" formControlName="endDate" id="endDate" class="form-control" style="width: 180px;">
      </div>

      <button type="button" class="btn btn-primary mb-2" (click)="filterByFecha()">Filtrar por Fecha</button>
    </form>

    <div class="container mt-4" style="background-color: white; padding: 20px; border-radius: 8px;">
      <p class="text-center fw-bold" style="color: black;">Resultados de la Búsqueda</p>
      <table class="table table-striped table-bordered mt-4">
        <thead class="table-dark text-center">
        <tr>
          <th>ID Reserva</th>
          <th>Sede</th>
          <th>Cancha</th>
          <th>Hora Inicio</th>
          <th>Hora Fin</th>
          <th>Precio S/</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let reserva of paginatedReservas">
          <td class="text-center">{{ reserva.id }}</td>
          <td class="text-center">{{ reserva.sede.nombre }}</td>
          <td class="text-center">{{ reserva.cancha.tipoCancha }} - {{ reserva.cancha.deporte }}</td>
          <td class="text-center">{{ reserva.horaInicio }}</td>
          <td class="text-center">{{ reserva.horaFin }}</td>
          <td class="text-center">{{ reserva.cancha?.precio | number:'1.2-2' }}</td>
        </tr>
        <!-- Fila para el total -->
        <tr>
          <td colspan="5" class="text-right fw-bold">Total:</td>
          <td class="text-center fw-bold">{{ totalPrecio | number:'1.2-2' }}</td>
        </tr>
        </tbody>
      </table>

      <!-- Paginación -->
      <nav aria-label="Paginación de reservas">
        <ul class="pagination justify-content-center">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <a class="page-link" href="#" (click)="previousPage($event)">Anterior</a>
          </li>
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <a class="page-link" href="#" (click)="nextPage($event)">Siguiente</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
